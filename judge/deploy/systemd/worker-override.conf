[Service]
# Required for nsjail user namespaces (newuidmap/newgidmap).
NoNewPrivileges=no
RestrictSUIDSGID=no
PrivateTmp=yes
ProtectSystem=strict
ReadWritePaths=/opt/ai-deep-dive/judge/data
ProtectHome=yes
ProtectKernelTunables=yes
ProtectKernelModules=yes
ProtectControlGroups=yes
LockPersonality=yes
TasksMax=256
MemoryMax=1G
CPUQuota=100%
LimitNOFILE=256
Environment=OMP_NUM_THREADS=1
Environment=MKL_NUM_THREADS=1
Environment=OPENBLAS_NUM_THREADS=1
Environment=NUMEXPR_NUM_THREADS=1
Environment=VECLIB_MAXIMUM_THREADS=1
Environment=PYTORCH_NUM_THREADS=1
