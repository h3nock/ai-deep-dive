[Service]
# Worker hardening + isolate runtime constraints.
NoNewPrivileges=no
RestrictSUIDSGID=no
PrivateTmp=yes
ProtectSystem=strict
ReadWritePaths=/opt/ai-deep-dive/judge/data /var/local/lib/isolate
ProtectHome=yes
ProtectKernelTunables=yes
ProtectKernelModules=yes
ProtectControlGroups=no
LockPersonality=yes
TasksMax=256
MemoryMax=1G
CPUQuota=100%
LimitNOFILE=256
Environment=OMP_NUM_THREADS=1
Environment=MKL_NUM_THREADS=1
Environment=OPENBLAS_NUM_THREADS=1
Environment=NUMEXPR_NUM_THREADS=1
Environment=VECLIB_MAXIMUM_THREADS=1
Environment=PYTORCH_NUM_THREADS=1
