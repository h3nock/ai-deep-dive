# Minimal nsjail config for judge runs.
# Set uid/gid to match the "judge" user on the VM.

mode: ONCE
hostname: "judge"
log_level: ERROR

# Run as the judge user
uidmap { inside_id: "1000" outside_id: "1000" count: 1 }
gidmap { inside_id: "1000" outside_id: "1000" count: 1 }

# Mounts: provide read-only root, writable tmp
mount {
  src: "/"
  dst: "/"
  is_bind: true
  rw: false
}

mount {
  src: "/tmp"
  dst: "/tmp"
  is_bind: true
  rw: true
}

# Resource limits (MB / seconds)
rlimit_as: 1024
rlimit_cpu: 5
rlimit_fsize: 1
rlimit_nofile: 64
