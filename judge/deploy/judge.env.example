JUDGE_REDIS_URL=redis://localhost:6379/0
JUDGE_RESULTS_DB=/opt/ai-deep-dive/judge/data/judge.db
JUDGE_PROBLEMS_ROOT=/opt/ai-deep-dive/judge/problems
JUDGE_TESTS_ROOT=/opt/ai-deep-dive/judge/tests
JUDGE_MAX_OUTPUT_CHARS=2000
JUDGE_JOB_CLAIM_IDLE_MS=30000
JUDGE_JOB_CLAIM_COUNT=10
JUDGE_API_WORKERS=1
JUDGE_LIGHT_WORKERS=2
JUDGE_TORCH_WORKERS=1
# Cleanup: delete done/error jobs older than N days
JUDGE_JOB_RETENTION_DAYS=7
# Trim Redis streams to this max length
JUDGE_QUEUE_MAXLEN=10000
# Streams to trim
JUDGE_QUEUE_STREAMS=queue:light,queue:torch
# Backups: daily snapshot of the SQLite DB
JUDGE_BACKUP_DIR=/opt/ai-deep-dive/judge/data/backups
JUDGE_BACKUP_RETENTION_DAYS=7
# Comma-separated list of allowed origins for browser requests
JUDGE_ALLOWED_ORIGINS="https://learning.h3nok.dev,https://h3nok.dev,https://www.h3nok.dev,http://localhost:3000"
# Isolate sandbox settings
JUDGE_ISOLATE_BIN=/usr/bin/isolate
JUDGE_ISOLATE_USE_CGROUPS=1
JUDGE_ISOLATE_PROCESSES=64
JUDGE_ISOLATE_WALL_TIME_EXTRA_S=2
JUDGE_ISOLATE_TIMEOUT_GRACE_S=5
JUDGE_ISOLATE_FSIZE_KB=1024
JUDGE_PYTHON_BIN=/opt/ai-deep-dive/judge/.venv/bin/python
# Prometheus multiprocess metrics directory (shared by API + workers)
PROMETHEUS_MULTIPROC_DIR=/var/lib/judge/prometheus-multiproc
